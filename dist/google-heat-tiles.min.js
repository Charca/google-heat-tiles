!function t(e,i,n){function o(r,s){if(!i[r]){if(!e[r]){var u="function"==typeof require&&require;if(!s&&u)return u(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[r]={exports:{}};e[r][0].call(h.exports,function(t){var i=e[r][1][t];return o(i?i:t)},h,h.exports,t,e,i,n)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(t,e){"use strict";var i=t("./src/index");"undefined"!=typeof window&&(window.HeatTiles=i),"function"==typeof define&&define.amd&&define([],function(){return i}),e.exports=i},{"./src/index":4}],2:[function(t,e,i){function n(t,e,i){return null!=e&&(t=Math.max(t,e)),null!=i&&(t=Math.min(t,i)),t}function o(t){return t*(Math.PI/180)}function a(t){return t/(Math.PI/180)}function r(t){var e={x:null,y:null},i=l;e.x=i.x+t.lng*h;var a=n(Math.sin(o(t.lat)),-.9999,.9999);return e.y=i.y+.5*Math.log((1+a)/(1-a))*-f,e}function s(t){var e=l,i=(t.x-e.x)/h,n=(t.y-e.y)/-f,o=a(2*Math.atan(Math.exp(n))-Math.PI/2);return{lat:o,lng:i}}i.fromLatLngToPoint=r,i.fromPointToLatLng=s;var u=256,l={x:u/2,y:u/2},h=u/360,f=u/(2*Math.PI)},{}],3:[function(t,e,i){"use strict";var n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function t(e,i){n(this,t),this.tileSize=e,this.heatTiles=i}return o(t,[{key:"getTile",value:function(t,e,i){var n=i.createElement("div"),o=t.x+"_"+t.y,a=this.heatTiles.getTileData(),r=this.heatTiles.getOpacity();return this.heatTiles.isDebug()&&(n.innerHTML=t),n.style.width=this.tileSize.width+"px",n.style.height=this.tileSize.height+"px",n.style.fontSize="10",n.style.borderStyle="dashed",n.style.borderWidth="1px",n.style.borderColor="#AAAAAA",a[o]&&(n.style.background="rgba(255, "+a[o].green+", 0, "+r+")"),n}}]),t}();i["default"]=a,e.exports=i["default"]},{}],4:[function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();Object.defineProperty(i,"__esModule",{value:!0});var r=t("./coord.js"),s=n(r),u=t("mercator-projection"),l=n(u),h=function(){function t(e,i,n){o(this,t);var a={},r=void 0;this.map=e,this.google=n||window.google,this._data=[],this._tileData={},this._visible=!1,a={tileSize:256,opacity:.3,debug:!1},this.options=a;for(r in i)this.options[r]=i[r];this.initialize()}return a(t,[{key:"initialize",value:function(){var t=this;this._size=new this.google.maps.Size(this.options.tileSize,this.options.tileSize),this.google.maps.event.addListener(this.map,"zoom_changed",function(){t._processData(),t.isVisible()&&t.update()})}},{key:"show",value:function(){return this.map.overlayMapTypes.insertAt(0,new s["default"](this._size,this)),this._visible=!0,this}},{key:"hide",value:function(){return this.map.overlayMapTypes.removeAt(0),this._visible=!1,this}},{key:"update",value:function(){return this.map.overlayMapTypes.setAt(0,new s["default"](this._size,this)),this}},{key:"isVisible",value:function(){return this._visible}},{key:"isDebug",value:function(){return this.options.debug}},{key:"setData",value:function(t){return this._data=t,this._processData(),this}},{key:"setOpacity",value:function(t){this.options.opacity=t}},{key:"getTileData",value:function(){return this._tileData}},{key:"getOpacity",value:function(){return this.options.opacity}},{key:"_processData",value:function(t){var e="",i={},n=[],o=0,a=void 0;"undefined"!=typeof t&&(this._data=t),this._tileData={};for(a in this._data)i=this._fromPointToTileCoord(this._data[a]),e=i.x+"_"+i.y,this._tileData.hasOwnProperty(e)||(this._tileData[e]={q:0,index:o},o+=1),this._tileData[e].q+=1,n[this._tileData[e].index]=this._tileData[e].q;this._maxPoints=Math.max.apply(null,n),this._minPoints=Math.min.apply(null,n),this._setHeat()}},{key:"_setHeat",value:function(){var t=this._maxPoints-this._minPoints||1,e=0,i=0,n=void 0;for(n in this._tileData)i=100*(this._tileData[n].q-this._minPoints)/t,e=Math.round(255-2.55*i),this._tileData[n].green=e}},{key:"_fromPointToTileCoord",value:function(t){var e="function"==typeof t.lat?{lat:t.lat(),lng:t.lng()}:t,i=1<<this.map.getZoom(),n=l["default"].fromLatLngToPoint(e),o=new this.google.maps.Point(n.x*i,n.y*i),a=new this.google.maps.Point(Math.floor(o.x/this.options.tileSize),Math.floor(o.y/this.options.tileSize));return a}}]),t}();i["default"]=h,e.exports=i["default"]},{"./coord.js":3,"mercator-projection":2}]},{},[1]);